(()=>{"use strict";var e,t={126:(e,t,i)=>{var n=i(696);const r=new class{calcTotalPrice(){const e=document.querySelectorAll(".delivery-content__dish");let t=0;e.forEach((e=>{const i=e.querySelector(".delivery-content__cost").innerHTML,n=e.querySelector("[data-counter]").innerHTML;t+=+i*+n})),document.getElementById("totalPrice").innerHTML=`Total price: ${t} $`}},c=new class{minusEl(){document.querySelectorAll(".delivery-content__dish").forEach((e=>{e.querySelector('[data-action="minus"]').addEventListener("click",(()=>{const t=e.querySelector("[data-counter]");if(+t.innerText>1){t.innerText=--t.innerText;const i=e.querySelector("[data-id]").getAttribute("data-id");r.calcTotalPrice(),n.T.removeProducts(i)}}))}))}plusEl(){document.querySelectorAll(".delivery-content__dish").forEach((e=>{e.querySelector('[data-action="plus"]').addEventListener("click",(()=>{const t=e.querySelector("[data-counter]");t.innerText=++t.innerText;const i=e.querySelector("[data-id]").getAttribute("data-id");r.calcTotalPrice(),n.T.putProducts(i)}))}))}},o={BURGER_QUEEN_CATALOG:[{id:"el1",name:"Burger Queen",img:"https://i.ibb.co/G5yhTSC/Burger-Queen.png",price:10},{id:"el2",name:"Double Queen",img:"https://i.ibb.co/D4P3wpx/Double-Burger-Queen.png",price:17},{id:"el3",name:"Ð¡heesy Queen",img:"https://i.ibb.co/7JRKzZr/Cheesy-Burger-Queen.png",price:13},{id:"el4",name:"Burger Princess",img:"https://i.ibb.co/YQMbfDt/Burger-Princess.webp",price:8},{id:"el5",name:"Burger Prince",img:"https://i.ibb.co/x3Xwmfn/Burger-Prince.png",price:8},{id:"el6",name:"Burger King",img:"https://i.ibb.co/fqh9vf1/Burger-King.png",price:20}],PIZZA_MARIO_CATALOG:[{id:"el7",name:"Pizza Carbonara",img:"https://i.ibb.co/1Ztgq8f/pizza-carbonara.png",price:13},{id:"el8",name:"Pizza Hawaiian",img:"https://i.ibb.co/RHhns88/pizza-hawaiian.png",price:14},{id:"el9",name:"Pizza Margarita",img:"https://i.ibb.co/qRzK3z8/pizza-margarita.png",price:10},{id:"el10",name:"Pizza Mario",img:"https://i.ibb.co/4sVgtr9/pizza-mario.png",price:8},{id:"el11",name:"Pizza Salami",img:"https://i.ibb.co/Bt5G71g/pizza-salami.png",price:19},{id:"el12",name:"Pizza Spicy",img:"https://i.ibb.co/R4XJ1dM/pizza-spicy.webp",price:20}],AWESOME_SUSHI_CATALOG:[{id:"el13",name:"Sushi set 1",img:"https://i.ibb.co/H75XzNZ/sushi-set-1.png",price:17},{id:"el14",name:"Sushi set 2",img:"https://i.ibb.co/qRS7cjm/sushi-set-2.png",price:12},{id:"el15",name:"Sushi set 3",img:"https://i.ibb.co/WcVcXpK/sushi-set-3.png",price:18},{id:"el16",name:"Sushi set 4",img:"https://i.ibb.co/LRtz1gw/sushi-set-4.png",price:13},{id:"el17",name:"Sushi set 5",img:"https://i.ibb.co/5RbGgwJ/sushi-set-5.png",price:11},{id:"el18",name:"Sushi set 6",img:"https://i.ibb.co/MZc2gXX/sushi-set-6.png",price:14}]},s=new class{initAddEventListeners(){document.querySelectorAll(".delivery-content__remove-button").forEach((function(e){e.addEventListener("click",s.removeDish)})),document.getElementById("submit").addEventListener("click",s.setOrder)}render(e){const t=n.T.getProducts();let i={};for(var r=0;r<t.length;r++)i[t[r]]?i[t[r]]+=1:i[t[r]]=1;let o="",s=0;e.forEach((({id:e,name:n,price:r,img:c})=>{const a=i[e];-1!==t.indexOf(e)&&(o+=`\n        <div class="delivery-content__dish row col-4 justify-content-center">\n          <img class="delivery-content__img col-auto" src=${c}>\n          <div class="w-100"></div>\n          <p class="delivery-content__name col-auto">${n}</p>\n          <p class="delivery-content__cost col-auto p-0">${r}</p>\n          <p class="delivery-content__currency col-auto p-0">$</p>\n          <div class="w-100"></div>\n          <button type="button" class="delivery-content__remove-button col-2 p-0 btn \n          btn-outline-success" data-id=${e}>x</button>\n          <div class="delivery-content__counter-wrapper col-6 ms-2">\n            <div class="delivery-content__control" data-action="minus">-</div>\n            <div id="counter" class="delivery-content__current" data-counter>${a}</div>\n            <div class="delivery-content__control" data-action="plus">+</div>\n          </div>\n        </div>\n        `,s+=r*a)})),document.getElementById("selectedDishes").innerHTML=o,document.getElementById("totalPrice").innerHTML=`Total price: ${s} $`,this.initAddEventListeners(),c.plusEl(),c.minusEl()}removeDish(e){n.T.removeAllProducts(e.target.getAttribute("data-id")),s.render(o[JSON.parse(a)])}sumTotal(){const e=document.querySelectorAll(".delivery-content__dish");var t=0;e.forEach((e=>{const i=e.querySelector(".delivery-content__current").textContent,n=e.querySelector(".delivery-content__cost").textContent;t+=i*n})),document.getElementById("totalPrice").innerHTML=`Total price: ${t} $`}setOrder(){let e=[];const t=n.T.getProducts(),i=localStorage.getItem("shopName"),r=o[JSON.parse(i)].filter((e=>t.includes(e.id))).map((e=>e.name)),c=document.getElementById("totalPrice").innerHTML.split("Total price: ").join(""),s=document.getElementById("userName").value,a=document.getElementById("userEmail").value,l=document.getElementById("userPhone").value,d=document.getElementById("userAddress").value;document.querySelectorAll(".delivery-content__current").forEach((t=>{e.push(t.textContent)}));const u=r.reduce(((t,i,n)=>(t.push(i,e[n]),t)),[]),p={shop:i.substring(1,i.length-9),dishesNameAndQuantityOfDishes:u,totalPrice:c,userName:s,userEmail:a,userPhone:l,userAddress:d};localStorage.clear(),document.getElementById("selectedDishes").innerHTML="",document.getElementById("totalPrice").innerHTML="Total price: 0 $",async function(e){await fetch("http://localhost:3001/orders",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(e)})}(p)}},a=localStorage.getItem("shopName");s.render(o[JSON.parse(a)])}},i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var c=i[e]={exports:{}};return t[e](c,c.exports,n),c.exports}n.m=t,e=[],n.O=(t,i,r,c)=>{if(!i){var o=1/0;for(d=0;d<e.length;d++){for(var[i,r,c]=e[d],s=!0,a=0;a<i.length;a++)(!1&c||o>=c)&&Object.keys(n.O).every((e=>n.O[e](i[a])))?i.splice(a--,1):(s=!1,c<o&&(o=c));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[i,r,c]},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={670:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var r,c,[o,s,a]=i,l=0;if(o.some((t=>0!==e[t]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(a)var d=a(n)}for(t&&t(i);l<o.length;l++)c=o[l],n.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return n.O(d)},i=self.webpackChunkdelivery_app=self.webpackChunkdelivery_app||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var r=n.O(void 0,[164],(()=>n(126)));r=n.O(r)})();